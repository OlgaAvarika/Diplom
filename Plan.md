# План автоматизации тестирования веб-сервиса по покупке тура #
## Перечень автоматизируемых сценариев ##
### Сценарии для Payment Gate ###
#### Переход на страницу покупки по дебетовой карте ####
1. В браузере открыть сервис по ссылке: http://localhost:8080
2. Нажать на кнопку "Купить", открывается форма заполнения данных дебетовой карты "Оплата по карте"
#### Сценарий №1 ####
1. Поле **"Номер карты"** заполнить валидными данными (одобренная тестовая карта "4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" появляется сообщение *"Успешно Операция одобрена Банком"*
   После этого необходимо сделать запрос в базу данных и найти соответствующую запись об **успешно** проведённой операции.
#### Сценарий №2 ####
1. Поле **"Номер карты"** заполнить валидными данными (отклонённая тестовая карта "4444 4444 4444 4442")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" появляется сообщение *"Ошибка! Банк отказал в проведении операции."*
   После этого необходимо сделать запрос в базу данных и найти соответствующую запись о **НЕ**успешно проведённой операции.
#### Сценарий №3 ####
1. Поле **"Номер карты"** заполнить **НЕ**валидными данными (например, "1234 5678 90")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Номер карты"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №4 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле **"Месяц"** заполнить **НЕ**валидными данными (например, "13")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Месяц"* подсвечивается красным цветом с надписью *"Неверно указан срок действия карты"*. Операция не проведена.
#### Сценарий №5 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле **"Год"** заполнить **НЕ**валидными данными (например, "15")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Год"* подсвечивается красным цветом с надписью *"Истёк срок действия карты"*. Операция не проведена.
#### Сценарий №6 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле **"Владелец"** заполнить **НЕ**валидными данными (например, "0000")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Владелец"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №7 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле **"CVC/CVV"** заполнить **НЕ**валидными данными (например, "0")
6. После нажатия на кнопку "Продолжить" поле *"CVC/CVV"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №8 ####
1. Поле "Номер карты" оставить пустым
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Номер карты"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №9 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" оставить пустым
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Месяц"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №10 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" оставить пустым
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Год"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №11 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" оставить пустым
5. Поле "CVC/CVV" заполнить валидными данными (например, "123")
6. После нажатия на кнопку "Продолжить" поле *"Владелец"* подсвечивается красным цветом с надписью *"Поле обязательно для заполнения"*. Операция не проведена.
#### Сценарий №12 ####
1. Поле "Номер карты" заполнить валидными данными ("4444 4444 4444 4441")
2. Поле "Месяц" заполнить валидными данными (например, "02")
3. Поле "Год" заполнить валидными данными (например, "24")
4. Поле "Владелец" заполнить валидными данными (например, "Ivanov Ivan")
5. Поле "CVC/CVV" оставить пустым
6. После нажатия на кнопку "Продолжить" поле *"CVC/CVV"* подсвечивается красным цветом с надписью *"Неверный формат"*. Операция не проведена.
#### Сценарий №13 ####
1. Поле "Номер карты" оставить пустым
2. Поле "Месяц" оставить пустым
3. Поле "Год" оставить пустым
4. Поле "Владелец" оставить пустым
5. Поле "CVC/CVV" оставить пустым
6. После нажатия на кнопку "Продолжить" все поля подсвечиваются красным цветом с надписью *"Неверный формат"*/*"Поле обязательно для заполнения"*. Операция не проведена.

### Сценарии для Credit Gate ###
#### Переход на страницу покупки в кредит ####
1. В браузере открыть сервис по ссылке: http://localhost:8080
2. Нажать на кнопку "Купить в кредит", открывается форма заполнения данных банковской карты "Кредит по данным карты"
   Позитивные и негативные сценарии для покупки в кредит" будут такими же как и для покупки по дебетовой карте.

## Используемые инструменты ##
1. Docker desktop и Docker Hub - для развёртывания виртуальных контейнеров и запуска БД MySQL и PostreSQL, а также банковских сервисов на NodeJS
2. Java 11 - универсальный язык программирования, позволяющий работать на всех ОС
3. Среда разработки IntelliJ IDEA - для написания кода автотестов на языке Java 11
4. Gradle - система автоматической сборки проекта
5. Библиотеки JUnit, Selenide, Lombok, Faker - для написания кода автотестов, веб-тестирования
6. Git и Git Hub - система контроля версий, возможность командной работы над проектом, хранилище кода и автотестов
7. Git Issues - для заведения баг-репортов
8. Allure Report - для составления наглядной отчетности по результатам прогонки автотестов

## Возможные риски при автоматизации ##
1. Сложности с подключением БД, gate-simulator, запуском jar-файла
2. Изменение элементов в коде может повлиять на работу автотестов
3. Увеличенное время на тестирование и его стоимость по сравнению с ручным тестированием. Это оправдано в том случае, когда тестирование данного модуля планируется производить периодически, а не однократно

## Интервальная оценка с учётом рисков в часах ##
1. Разработка плана тестирования - 8-10 часов
2. Написание автотестов, их прогон - 48-72 часа
3. Подготовка отчётной документации - 12-24 часа

## План сдачи работ ##
1. Планирование автоматизации тестирования - 3 рабочих дня
2. Автоматизация (написание автотестов, их прогон) - 14 рабочих дней
3. Подготовка отчётных документов по итогам автоматизированного тестирования - 2 рабочих дня
4. Подготовка отчётных документов по итогам автоматизации - 2 рабочих дня
   Все работы необходимо завершить к 04.03.2023 г.